# Handle User Input
1) How to handle input
2) How to validate input
3) Common daily-use examples
## Best practices
- Bonus: using libraries like Yup + Formik or React Hook Form
## üìå 1. How to Handle User Input in React Native
- React Native uses controlled inputs, meaning:
- ‚úî You store input value in state
- ‚úî You update state on onChangeText
- ‚úî Your component re-renders with the new value
- Basic Input Handling
```
const [name, setName] = useState("");

<TextInput
  value={name}
  onChangeText={text => setName(text)}
  placeholder="Enter your name"
  style={{ borderWidth: 1, padding: 10 }}
/>
```
## üìå 2. How to Validate User Input
You can validate input in multiple ways:
- ‚úî 1. Validate on change ```(onChangeText)```
- ‚úî 2. Validate on submit ```(button press, form submit)```
- ‚úî 3. Validate on blur ```(when user leaves input field)```
## ‚≠ê 3. Common Real-World Validation Examples
### ‚≠ê Example 1 ‚Äî Validate Email Input
```
import React, { useState } from "react";
import { View, TextInput, Text, Button } from "react-native";

export default function App() {
  const [email, setEmail] = useState("");
  const [error, setError] = useState("");

  const validateEmail = () => {
    const regex = /\S+@\S+\.\S+/;
    if (!regex.test(email)) {
      setError("Invalid email format");
    } else {
      setError("");
    }
  };

  return (
    <View style={{ padding: 20 }}>
      <TextInput
        style={{ borderWidth: 1, padding: 10 }}
        placeholder="Email"
        value={email}
        onChangeText={setEmail}
        onBlur={validateEmail}
      />
      {error ? <Text style={{ color: "red" }}>{error}</Text> : null}

      <Button title="Submit" onPress={validateEmail} />
    </View>
  );
}
```
- üí° Daily use: login screens, signup forms, profile update forms.
## ‚≠ê Example 2 ‚Äî Required Field Validation
```
const [username, setUsername] = useState("");
const [error, setError] = useState("");

const submit = () => {
  if (!username.trim()) {
    setError("Username is required");
  } else {
    setError("");
  }
};
```
- üí° Used everywhere: login, OTP screens, search fields, etc.
## ‚≠ê Example 3 ‚Äî Password Validation
- Common rules:
- ‚úî minimum length
- ‚úî must contain a number
- ‚úî must contain uppercase
```
const validatePassword = (value) => {
  if (value.length < 6) return "Password must be at least 6 characters";
  if (!/\d/.test(value)) return "Must contain a number";
  if (!/[A-Z]/.test(value)) return "Must contain an uppercase letter";
  return "";
};
```
- Usage:
```
const errorMsg = validatePassword(password);
setError(errorMsg);
```
- üí° Common in signup forms, change password screens.
## ‚≠ê Example 4 ‚Äî Phone Number Input (Digit-only)
```
const onChangePhone = (value) => {
  const cleaned = value.replace(/[^0-9]/g, ""); // allow numbers only
  setPhone(cleaned);
};
```
- üí° Used in OTP, mobile sign-up, address forms.
## ‚≠ê Example 5 ‚Äî Validate Form Before Submitting (Multiple Inputs)
```
const submitForm = () => {
  let valid = true;

  if (!email) {
    setEmailErr("Email required");
    valid = false;
  }
  if (!password) {
    setPasswordErr("Password required");
    valid = false;
  }
  if (!valid) return;

  // Submit API call
  console.log("Form valid, submitting...");
};
```
## ‚≠ê Example 6 ‚Äî Disable Button Until Form is Valid
```
const isValid = email !== "" && password !== "";

<Button 
  title="Login"
  onPress={submit}
  disabled={!isValid}
/>
```
- üí° Common UX pattern.
## ‚≠ê Example 7 ‚Äî Real-time Error Highlighting
```
<TextInput
  style={{
    borderWidth: 1,
    borderColor: error ? "red" : "#ccc",
    padding: 10,
  }}
/>
```
- ‚≠ê Example 8 ‚Äî Confirm Password
```
if (password !== confirmPassword) {
  setError("Passwords do not match");
}
```
- üí° Standard signup workflow.
## ‚≠ê Example 9 ‚Äî Numeric Input with Validation (Age)
```
const validateAge = () => {
  const num = Number(age);
  if (num < 18) setError("Must be 18+");
  else setError("");
};
```
## ‚≠ê Example 10 ‚Äî Search Bar (debounce input)
- Used in search screens, lists.
```
const timeoutRef = useRef(null);

const onSearch = (text) => {
  if (timeoutRef.current) clearTimeout(timeoutRef.current);

  timeoutRef.current = setTimeout(() => {
    console.log("Searching:", text);
  }, 400);
};
```
## ‚≠ê Best Practice ‚Äî Use Form Libraries (Recommended)
- Real-world production apps rarely validate forms manually.
- Instead, developers use:
- 1Ô∏è‚É£ Formik + Yup (most popular)
```
npm install formik yup
```
- 2Ô∏è‚É£ React Hook Form
```
npm install react-hook-form
```
- 3Ô∏è‚É£ Zod + React Hook Form
- Modern, strict validation
## ‚≠ê Example (Production-grade) ‚Äî Formik + Yup Example
```
import { Formik } from "formik";
import * as Yup from "yup";

const schema = Yup.object().shape({
  email: Yup.string().email("Invalid email").required("Required"),
  password: Yup.string().min(6).required("Required"),
});

<Formik
  initialValues={{ email: "", password: "" }}
  validationSchema={schema}
  onSubmit={(values) => console.log(values)}
>
  {({ handleChange, handleSubmit, values, errors }) => (
    <>
      <TextInput
        placeholder="Email"
        onChangeText={handleChange("email")}
        value={values.email}
      />
      <Text style={{ color: "red" }}>{errors.email}</Text>

      <TextInput
        placeholder="Password"
        secureTextEntry
        onChangeText={handleChange("password")}
        value={values.password}
      />
      <Text style={{ color: "red" }}>{errors.password}</Text>

      <Button title="Submit" onPress={handleSubmit} />
    </>
  )}
</Formik>;
```
- üí° Most enterprise apps use this.
## ‚≠ê Real-World Validation Scenarios in Daily Development
- These are extremely common in real apps:
## üìå Common Input & Validation Scenarios in React Native

| Scenario | Example |
|----------|----------|
| **Login** | Email, password |
| **Signup** | Confirm password, phone number, username |
| **Profile** | Bio length, required name |
| **Checkout** | Card number, expiry, CVV |
| **Search** | Debounced search |
| **Settings** | Change phone/email with validation |
| **Forms** | Address, pincode, age, gender |
| **Inputs** | OTP input fields |
| **Payments** | UPI / Credit card formatting |
| **Chat** | Message not empty |
